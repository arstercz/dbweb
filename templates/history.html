{{template "base/base.html" .}}
{{template "base/common_history.html"}}

{{define "head"}}
{{end}}

{{define "body"}}
<div class="col-md-9">
	<div class="row">
		<form class="form-inline" role="form">
			<!--
			<div class="pull-right text-center">
				<input class="btn btn-primary btn-lg" type="submit" value="{{i18n .Lang "execute"}}"/>
			</div>
			<div>
				<textarea name="sql" class="form-control" rows="3" class="col-md-5" placeholder="Enter SQL" style="width:80%;">{{.sql}}</textarea>
				<input type="hidden" name="id" value="{{.id}}"/>
			</div>
			-->
		</form>
	</div>

	<div class="row" style="margin-top:20px;">
	{{if .isTableView}}
		<div class="pull-right">
			<nav>
			  <ul class="pagination">
			    {{$curPage := .curPage}}
			    {{$tb := .tb}}
			    {{$limit := .limit}}
			    {{range $k, $v := (Range .totalPage)}}
			    <li><a href="{{if eq $k $curPage}}#{{else}}/history?start={{multi $k $limit}}{{end}}">{{add $k 1}}</a></li>
			    {{end}}
			  </ul>
			</nav>
		</div>
		{{end}}
		<table class="table table-striped table-bordered">
		{{if .ishome}}
			<tr class="text-center">
				<td width="100%" height="200" valign="middle">{{i18n .Lang "welcome"}}</td>
			</tr>
		{{else}}
			<tr>
				{{range .columns}}
				<td>{{.Name}}<br/>{{.SQLType.Name}}</td>
				{{end}}
			</tr>
			{{$lang := .Lang}}
			{{range .records}}
			<tr>
				{{range .}}
				<td>{{.}}</td>
				{{end}}
			</tr>
			{{end}}
		{{end}}
		</table>
		{{if .isTableView}}
		<div class="pull-right">
			<nav>
			  <ul class="pagination">
			    {{$curPage := .curPage}}
			    {{$tb := .tb}}
			    {{$limit := .limit}}
			    {{range $k, $v := (Range .totalPage)}}
			    <li><a href="{{if eq $k $curPage}}#{{else}}/history?&start={{multi $k $limit}}{{end}}">{{add $k 1}}</a></li>
			    {{end}}
			  </ul>
			</nav>
		</div>
		{{end}}
	</div>
</div>
{{end}}
